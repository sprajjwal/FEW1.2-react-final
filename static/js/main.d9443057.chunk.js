(this["webpackJsonpfew12-final_react"]=this["webpackJsonpfew12-final_react"]||[]).push([[0],{27:function(e,t,n){e.exports=n(40)},32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),i=n.n(r),l=(n(32),n(7)),c=n(8),s=n(10),p=n(9),u=n(5),m=n(11),d=n(2),g=n(15),h=n(1),f=n.n(h);n(33);var y=function(e){return o.a.createElement("div",{style:b.navbar},o.a.createElement("div",{style:b.left},o.a.createElement(d.c,{style:b.titleFont,to:"/"},"Proposaly")),o.a.createElement("div",{style:b.right},void 0===f.a.get("pToken")?o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{style:b.font,to:"/signup"},"Signup"),o.a.createElement(d.c,{style:b.font,to:"/login"},"Login")):o.a.createElement("a",{href:"/",style:b.font,onClick:function(){e.loggedIn(!1),f.a.remove("pToken")}},"Logout")))},b={navbar:{background:"#B8E1FF",maxWidth:"100vw",height:"5rem",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingLeft:"5vw",paddingRight:"5vw"},left:{justifySelf:"flex-start"},right:{display:"flex",justifyContent:"space-around"},font:{color:"#0A2342",margin:".4em",fontSize:"1.2rem",fontWeight:"300",textDecoration:"none"},titleFont:{color:"#333",fontSize:"1.6rem",fontWeight:"500",textDecoration:"none"}},E=n(4),v=n.n(E),x=n(13),w=n(18),j={NETWORK:"https://approval-api.herokuapp.com",REDIRECT:"FEW1.2-react-final/#/"},k=j.NETWORK,O=j.REDIRECT,S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",r:"false"},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(w.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this,n={username:this.state.username,password:this.state.password},a=this.props.type;fetch("".concat(k,"/").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(){var e=Object(x.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:void 0===(a=e.sent).token?t.props.loggedIn(!1):(f.a.set("pToken",a.token),t.props.loggedIn(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(null!=f.a.get("pToken")){var t="".concat(O,"/");return o.a.createElement(g.a,{to:t})}return o.a.createElement("form",{style:C.form,onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},o.a.createElement("p",{style:C.type},this.props.type.toUpperCase()),o.a.createElement("label",{htmlFor:"username",style:C.label},"Username:"),o.a.createElement("input",{type:"text",style:C.input,value:this.state.username,onChange:this.handleChange,name:"username"}),o.a.createElement("label",{htmlFor:"password",style:C.label},"Password:"),o.a.createElement("input",{style:C.input,type:"password",value:this.state.password,onChange:this.handleChange,id:"password",name:"password"}),o.a.createElement("button",{type:"submit",style:C.button},"Submit"))}}]),t}(a.Component),C={form:{minHeight:"65vh",display:"flex",flexDirection:"column",justifyContent:"flex-start",border:"3px solid gray",borderRadius:"15px",background:"#94FBAB",width:"70vw",margin:"8vh auto",padding:"0 5%"},input:{height:"4vh",fontSize:"1em",padding:"0.2em",fontWeight:"300",marginBottom:"4.5vh"},label:{margin:"10px 0",fontWeight:"400",color:"#db6f6e"},button:{marginTop:"20px",alignSelf:"center",width:"8em",height:"1.7em",fontSize:"1.3em",Color:"gray",borderRadius:"20px",backgroundColor:"#e8c45f",fontWeight:"300"},type:{textAlign:"center",fontSize:"1.6em",color:"#F87060",fontWeight:"400"}},T=j.NETWORK,W=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={isLoading:!1,proposals:[],isEmpty:!0},n.getProposal(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getProposal",value:function(){var e=this,t=this.props.type;fetch("".concat(T,"/").concat(t,"_proposals?token=").concat(f.a.get("pToken")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var t=Object(x.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:401===(a=t.sent).status?e.setState({isEmpty:!0}):e.setState({proposals:a.proposals,isLoading:!1,isEmpty:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e),o.a.createElement(o.a.Fragment,null)}))}},{key:"render",value:function(){var e=this,t=this.props.type,n=this.state,a=n.isLoading,r=n.proposals,i=n.isEmpty;return a&&void 0===f.a.get("pToken")?o.a.createElement("p",{style:F.warning},"loading"):i?o.a.createElement("div",null,"true"===this.props.sub?o.a.createElement("h1",{style:F.head},"ALL ",this.props.type.toUpperCase()," PROPOSALS"):o.a.createElement(o.a.Fragment,null),o.a.createElement("p",{style:F.warning},"We got nothing here chief")):o.a.createElement("div",{style:F.container},"true"===this.props.sub?o.a.createElement("h1",{style:F.head},"ALL ",this.props.type.toUpperCase()," PROPOSALS"):o.a.createElement(o.a.Fragment,null),r.map((function(n,a){return o.a.createElement("div",{key:a,style:F.card},o.a.createElement(d.b,{style:F.title,to:"/".concat(t,"/").concat(a)},n.title),n.approved?o.a.createElement("p",{style:F.approved},"Approved"):o.a.createElement(o.a.Fragment,null),n.denied?o.a.createElement("p",{style:F.denied},"Denied"):o.a.createElement(o.a.Fragment,null),n.approved||n.denied?o.a.createElement(o.a.Fragment,null):o.a.createElement("p",{style:F.pending},"Pending"),"incoming"===e.props.type?o.a.createElement("p",{style:F.body},"@",n.author):o.a.createElement("p",{style:F.body},"@",n.recipient))})))}}]),t}(a.Component),F={container:{margin:"auto",marginTop:"10px",width:"69vw",paddingTop:"0"},card:{border:"1px solid black",width:"100%",height:"4vh",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"5px",alignItem:"flex-end"},title:{margin:"0",maxWidth:"100%",fontWeight:"500",padding:"0 10px",fontSize:"1em"},body:{margin:"0",textAlign:"right",padding:"0 10px",fontWeight:"200",fontSize:"1em",color:"red"},head:{color:"#4CE0D2",textAlign:"center"},approved:{color:"green",margin:"0",fontWeight:"300"},denied:{color:"red",margin:"0",fontWeight:"300"},pending:{color:"#343F3E",margin:"0",fontWeight:"300"},warning:{color:"black",margin:"auto"}},D=j.NETWORK,A=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={id:n.props.id,type:n.props.type,proposal:{},isLoading:!0,isEmpty:!1},n.getProposal(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getProposal",value:function(){var e=this,t=this.state,n=t.type,a=t.id,o="".concat(D,"/").concat(n,"_proposals/").concat(a);fetch("".concat(o,"?token=").concat(f.a.get("pToken")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var t=Object(x.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:401===(a=t.sent).status?e.setState({isEmpty:!0}):e.setState({proposal:a,isLoading:!1,isEmpty:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),e.setState({isEmpty:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.proposal,n=e.isLoading,a=e.isEmpty,r=e.type,i=e.id;if(n&&void 0===f.a.get("pToken"))return o.a.createElement("p",{style:I.warning},"loading");if(a)return o.a.createElement("h1",{style:I.warning},"We got nothing here chief");var l="/outgoing/".concat(i,"/update"),c="/outgoing/".concat(i,"/delete"),s="/incoming/".concat(i,"/approve"),p="/incoming/".concat(i,"/deny");return o.a.createElement("div",{style:I.container},o.a.createElement("h3",{style:I.title},t.title),"incoming"===r?o.a.createElement("p",{style:I.by},"by: @",t.author):o.a.createElement("p",{style:I.by},"to: @",t.recipient),t.approved?o.a.createElement("p",{style:I.approved},"Status: Approved"):o.a.createElement(o.a.Fragment,null),t.denied?o.a.createElement("p",{style:I.denied},"Status: Denied"):o.a.createElement(o.a.Fragment,null),t.approved||t.denied?o.a.createElement(o.a.Fragment,null):o.a.createElement("p",{style:I.pending},"Status: Pending"),"outgoing"===this.props.type?o.a.createElement("div",{style:I.buttons},o.a.createElement(d.b,{to:l,style:I.update},"Update"),o.a.createElement(d.b,{to:c,style:I.delete},"Delete")):o.a.createElement(o.a.Fragment,null),"incoming"===this.props.type?o.a.createElement("div",{style:I.buttons},o.a.createElement(d.b,{to:s,style:I.approved},"Approve"),o.a.createElement(d.b,{to:p,style:I.update},"Deny")):o.a.createElement(o.a.Fragment,null),o.a.createElement("br",null),o.a.createElement("p",{style:I.body},t.summary))}}]),t}(a.Component),I={container:{width:"80vw",margin:"50px auto",display:"flex",flexDirection:"column"},title:{textAlign:"center",margin:"0",color:"black",fontStyle:"underline"},by:{textAlign:"center",margin:"0",color:"black",fontStyle:"italic",fontWeight:"300"},body:{margin:"0",color:"black",minHeight:"50vh",fontWeight:"300"},update:{textDecoration:"none",color:"#acad58"},delete:{textDecoration:"none",color:"blue"},buttons:{display:"flex",justifyContent:"space-between",width:"7em",alignSelf:"flex-end"},approved:{textAlign:"center",margin:"0",color:"green"},denied:{textAlign:"center",margin:"0",color:"red"},pending:{color:"#343F3E",margin:"0",fontWeight:"300",textAlign:"center"},warning:{color:"black",margin:"auto"}},R=j.NETWORK,L=j.REDIRECT,P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={title:"",summary:"",to:"",error:!1,errorMsg:"",added:!1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.getData=n.getData.bind(Object(u.a)(n)),"update"===n.props.type&&n.getData(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(w.a)({},t,e.target.value))}},{key:"getData",value:function(){var e=this,t=this.props.id;fetch("".concat(R,"/outgoing_proposals/").concat(t,"?token=").concat(f.a.get("pToken")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var t=Object(x.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(a),e.setState({title:a.title,summary:a.summary,to:a.recipient});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(e){var t=this,n={title:this.state.title,summary:this.state.summary,token:f.a.get("pToken"),recipient:this.state.to},a=this.props.url_link,o="".concat(R,"/").concat(a);fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(){var e=Object(x.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:a=e.sent,console.log(a),200===a.status&&t.setState({added:!0}),401===a.status&&t.setState({error:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,a=t.added,r=this.props.id;if(a){if("new"===this.props.type){var i="".concat(L,"/outgoing/");return o.a.createElement(g.a,{to:i})}var l="".concat(L,"/outgoing/").concat(r);return o.a.createElement(g.a,{to:l})}if(!f.a.get("pToken")){var c="".concat(L,"/login");return o.a.createElement(g.a,{to:c})}return o.a.createElement("form",{style:_.form,onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},n?o.a.createElement("p",{style:_.label},"Failed to add!"):o.a.createElement(o.a.Fragment,null),o.a.createElement("p",{style:_.type},this.props.type.toUpperCase()),o.a.createElement("label",{htmlFor:"title",style:_.label},"Title:"),o.a.createElement("input",{placeholder:"Title",style:_.input,type:"text",value:this.state.title,onChange:this.handleChange,name:"title",id:"title"}),o.a.createElement("label",{htmlFor:"summary",style:_.label},"Summary:"),o.a.createElement("textarea",{placeholder:"Summary",style:_.textarea,value:this.state.summary,onChange:this.handleChange,name:"summary",id:"summary"}),o.a.createElement("label",{htmlFor:"to",style:_.label},"To:"),o.a.createElement("input",{style:_.input,type:"text",value:this.state.to,onChange:this.handleChange,placeholder:"username",name:"to",id:"to"}),o.a.createElement("button",{type:"button",style:_.button,to:"/",onClick:this.handleSubmit},"Submit"))}}]),t}(a.Component),_={form:{minHeight:"65vh",display:"flex",flexDirection:"column",justifyContent:"flex-start",border:"3px solid gray",borderRadius:"15px",background:"#94FBAB",width:"70vw",margin:"8vh auto",padding:"0 5%"},input:{height:"4vh",fontSize:"1em",padding:"0.2em",fontWeight:"300",marginBottom:"1vh"},textarea:{height:"20vh",fontSize:"1em",padding:"0.2em",fontWeight:"300",marginBottom:"1vh"},label:{margin:"0",fontWeight:"400",color:"#db6f6e"},button:{marginTop:"20px",alignSelf:"center",width:"8em",height:"1.7em",fontSize:"1.3em",Color:"gray",borderRadius:"20px",backgroundColor:"#e8c45f",fontWeight:"300"},type:{textAlign:"center",fontSize:"1.6em",color:"#F87060",fontWeight:"400"}},z=j.NETWORK,B=j.REDIRECT,N=function(e){function t(e){var n;return Object(l.a)(this,t),console.log("in here"),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={isCompleted:!1},n.helper=n.helper.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"helper",value:function(){var e=this,t=this.props,n=t.type,a=t.url,o={token:f.a.get("pToken")},r="".concat(z,"/").concat(a,"/").concat(n);console.log(r),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(){var t=Object(x.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(a),e.setState({isCompleted:!0}),console.log(e.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},{key:"render",value:function(){this.helper();var e=this.props,t=e.type,n=(e.url,e.id);console.log(t);var a="".concat(B,"/"),r=this.state.isCompleted;if(null===f.a.get("pToken"))return o.a.createElement(g.a,{to:a});if("approve"===t||"deny"===t){var i="".concat(B,"/incoming/").concat(n);return o.a.createElement(g.a,{to:i})}return r?o.a.createElement(g.a,{to:a}):o.a.createElement(o.a.Fragment,null)}}]),t}(a.Component),K=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={isLoggedIn:!!f.a.get("pToken")},n.loggedIn=n.loggedIn.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"loggedIn",value:function(e){console.log("in here with",e),this.setState({isLoggedIn:e})}},{key:"render",value:function(){var e=this.loggedIn;return o.a.createElement("div",{className:"App-body"},o.a.createElement(d.a,{basename:"/sprajjwal/FEW1.2-react-final/#"},o.a.createElement(y,{loggedIn:e}),o.a.createElement(g.b,{exact:!0,path:"/",component:function(){return o.a.createElement("div",{style:U.row},o.a.createElement("div",{style:U.head},o.a.createElement(d.b,{to:"/outgoing",style:U.label},"All Outgoing Proposals:"),o.a.createElement(d.b,{to:"/new",style:U.button},"NEW")),o.a.createElement("div",{style:U.container},o.a.createElement(W,{type:"outgoing"})))}}),o.a.createElement(g.b,{exact:!0,path:"/",component:function(){return o.a.createElement("div",{style:U.row},o.a.createElement(d.b,{to:"/incoming",style:U.label},"All Incoming Proposals:"),o.a.createElement("div",{style:U.container},o.a.createElement(W,{type:"incoming"})))}}),o.a.createElement(g.b,{exact:!0,path:"/login",component:function(){return o.a.createElement(S,{type:"login",loggedIn:e})}}),o.a.createElement(g.b,{exact:!0,path:"/signup",component:function(){return o.a.createElement(S,{type:"signup",loggedIn:e})}}),o.a.createElement(g.b,{exact:!0,path:"/outgoing",component:function(){return o.a.createElement(W,{type:"outgoing",sub:"true"})}}),o.a.createElement(g.b,{exact:!0,path:"/incoming",component:function(){return o.a.createElement(W,{type:"incoming",sub:"true"})}}),o.a.createElement(g.b,{exact:!0,path:"/new",component:function(){return o.a.createElement(P,{type:"new",url_link:"new_proposal"})}}),o.a.createElement(g.b,{exact:!0,path:"/incoming/:id",render:function(e){var t=e.match.params.id;return o.a.createElement(A,{type:"incoming",id:t})}}),o.a.createElement(g.b,{exact:!0,path:"/outgoing/:id",render:function(e){var t=e.match.params.id;return o.a.createElement(A,{type:"outgoing",id:t})}}),o.a.createElement(g.b,{path:"/outgoing/:id/update",render:function(e){var t=e.match.params.id,n="outgoing_proposals/".concat(t,"/update");return o.a.createElement(P,{type:"update",url_link:n,id:t})}}),o.a.createElement(g.b,{path:"/outgoing/:id/delete",render:function(e){var t=e.match.params.id,n="outgoing_proposals/".concat(t);return o.a.createElement(N,{type:"delete",url:n})}}),o.a.createElement(g.b,{path:"/incoming/:id/approve",render:function(e){var t=e.match.params.id,n="incoming_proposals/".concat(t);return o.a.createElement(N,{type:"approve",url:n,id:t})}}),o.a.createElement(g.b,{path:"/incoming/:id/deny",render:function(e){var t=e.match.params.id,n="incoming_proposals/".concat(t);return o.a.createElement(N,{type:"deny",url:n,id:t})}})))}}]),t}(a.Component),U={container:{display:"flex",overflow:"scroll",flexDirection:"row",marginTop:"5px",height:"30vh",width:"70vw",paddingTop:"0",alignItems:"center",justifyContent:"center",background:"linear-gradient(to right, #9796f0, #fbc7d4)"},row:{width:"71vw",margin:"auto",padding:"0",marginTop:"5vh",height:"40vh",display:"flex",flexDirection:"column"},label:{margin:"0",color:"#F87060",textDecoration:"none"},button:{float:"right",textDecoration:"none",fontSize:"1em",color:"#102542",fontWeight:"500",border:"2px solid #102542",backgroundColor:"white",borderRadius:"15px",width:"3em",textAlign:"center",padding:"0"},head:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.d9443057.chunk.js.map